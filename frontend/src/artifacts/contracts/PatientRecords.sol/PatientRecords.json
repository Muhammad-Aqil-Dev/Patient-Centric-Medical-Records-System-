{
  "_format": "hh-sol-artifact-1",
  "contractName": "PatientRecords",
  "sourceName": "contracts/PatientRecords.sol",
  "abi": [
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "doctor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "expiresAt",
          "type": "uint256"
        }
      ],
      "name": "AccessGranted",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "patient",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "RecordUploaded",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "accessControl",
      "outputs": [
        {
          "internalType": "bool",
          "name": "granted",
          "type": "bool"
        },
        {
          "internalType": "uint256",
          "name": "expiresAt",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getMyRecord",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "patient",
          "type": "address"
        }
      ],
      "name": "getRecord",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "doctor",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "expiresAt",
          "type": "uint256"
        }
      ],
      "name": "grantAccess",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "patientToHash",
      "outputs": [
        {
          "internalType": "string",
          "name": "",
          "type": "string"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "string",
          "name": "ipfsHash",
          "type": "string"
        }
      ],
      "name": "uploadRecord",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b50610dcf806100206000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c806303536d431461006757806350d87c4d146100985780635928f13f146100b6578063617fba04146100e65780637fb869bb146101165780639df8925614610132575b600080fd5b610081600480360381019061007c9190610702565b61014e565b60405161008f929190610776565b60405180910390f35b6100a061018c565b6040516100ad919061082f565b60405180910390f35b6100d060048036038101906100cb9190610851565b61025a565b6040516100dd919061082f565b60405180910390f35b61010060048036038101906100fb9190610851565b6102fa565b60405161010d919061082f565b60405180910390f35b610130600480360381019061012b91906108e3565b6104ce565b005b61014c6004803603810190610147919061095c565b610570565b005b6001602052816000526040600020602052806000526040600020600091509150508060000160009054906101000a900460ff16908060010154905082565b60606000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002080546101d7906109cb565b80601f0160208091040260200160405190810160405280929190818152602001828054610203906109cb565b80156102505780601f1061022557610100808354040283529160200191610250565b820191906000526020600020905b81548152906001019060200180831161023357829003601f168201915b5050505050905090565b60006020528060005260406000206000915090508054610279906109cb565b80601f01602080910402602001604051908101604052809291908181526020018280546102a5906109cb565b80156102f25780601f106102c7576101008083540402835291602001916102f2565b820191906000526020600020905b8154815290600101906020018083116102d557829003601f168201915b505050505081565b60606000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206040518060400160405290816000820160009054906101000a900460ff161515151581526020016001820154815250509050806000015180156103c05750428160200151115b6103ff576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103f690610a48565b60405180910390fd5b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208054610448906109cb565b80601f0160208091040260200160405190810160405280929190818152602001828054610474906109cb565b80156104c15780601f10610496576101008083540402835291602001916104c1565b820191906000526020600020905b8154815290600101906020018083116104a457829003601f168201915b5050505050915050919050565b81816000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020918261051b929190610c4e565b503373ffffffffffffffffffffffffffffffffffffffff167f01b64c1967d10407b4ff97725353edea760930f8e25d265e786a16eecbe4d7f78383604051610564929190610d5a565b60405180910390a25050565b604051806040016040528060011515815260200182815250600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548160ff021916908315150217905550602082015181600101559050508173ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f65d0cc1e52d49938ca4ad9f423c79c1b84d914b9a683fbc5d3f93ac3cc5635f58360405161068e9190610d7e565b60405180910390a35050565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106cf826106a4565b9050919050565b6106df816106c4565b81146106ea57600080fd5b50565b6000813590506106fc816106d6565b92915050565b600080604083850312156107195761071861069a565b5b6000610727858286016106ed565b9250506020610738858286016106ed565b9150509250929050565b60008115159050919050565b61075781610742565b82525050565b6000819050919050565b6107708161075d565b82525050565b600060408201905061078b600083018561074e565b6107986020830184610767565b9392505050565b600081519050919050565b600082825260208201905092915050565b60005b838110156107d95780820151818401526020810190506107be565b60008484015250505050565b6000601f19601f8301169050919050565b60006108018261079f565b61080b81856107aa565b935061081b8185602086016107bb565b610824816107e5565b840191505092915050565b6000602082019050818103600083015261084981846107f6565b905092915050565b6000602082840312156108675761086661069a565b5b6000610875848285016106ed565b91505092915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126108a3576108a261087e565b5b8235905067ffffffffffffffff8111156108c0576108bf610883565b5b6020830191508360018202830111156108dc576108db610888565b5b9250929050565b600080602083850312156108fa576108f961069a565b5b600083013567ffffffffffffffff8111156109185761091761069f565b5b6109248582860161088d565b92509250509250929050565b6109398161075d565b811461094457600080fd5b50565b60008135905061095681610930565b92915050565b600080604083850312156109735761097261069a565b5b6000610981858286016106ed565b925050602061099285828601610947565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806109e357607f821691505b6020821081036109f6576109f561099c565b5b50919050565b7f4163636573732064656e696564206f7220657870697265640000000000000000600082015250565b6000610a326018836107aa565b9150610a3d826109fc565b602082019050919050565b60006020820190508181036000830152610a6181610a25565b9050919050565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610b047fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610ac7565b610b0e8683610ac7565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610b4b610b46610b418461075d565b610b26565b61075d565b9050919050565b6000819050919050565b610b6583610b30565b610b79610b7182610b52565b848454610ad4565b825550505050565b600090565b610b8e610b81565b610b99818484610b5c565b505050565b5b81811015610bbd57610bb2600082610b86565b600181019050610b9f565b5050565b601f821115610c0257610bd381610aa2565b610bdc84610ab7565b81016020851015610beb578190505b610bff610bf785610ab7565b830182610b9e565b50505b505050565b600082821c905092915050565b6000610c2560001984600802610c07565b1980831691505092915050565b6000610c3e8383610c14565b9150826002028217905092915050565b610c588383610a68565b67ffffffffffffffff811115610c7157610c70610a73565b5b610c7b82546109cb565b610c86828285610bc1565b6000601f831160018114610cb55760008415610ca3578287013590505b610cad8582610c32565b865550610d15565b601f198416610cc386610aa2565b60005b82811015610ceb57848901358255600182019150602085019450602081019050610cc6565b86831015610d085784890135610d04601f891682610c14565b8355505b6001600288020188555050505b50505050505050565b82818337600083830152505050565b6000610d3983856107aa565b9350610d46838584610d1e565b610d4f836107e5565b840190509392505050565b60006020820190508181036000830152610d75818486610d2d565b90509392505050565b6000602082019050610d936000830184610767565b9291505056fea26469706673582212209be8f6fccee0c8705260d6e476d06e0fc3e9d55d7d3618292b437e77ce48542f64736f6c63430008140033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100625760003560e01c806303536d431461006757806350d87c4d146100985780635928f13f146100b6578063617fba04146100e65780637fb869bb146101165780639df8925614610132575b600080fd5b610081600480360381019061007c9190610702565b61014e565b60405161008f929190610776565b60405180910390f35b6100a061018c565b6040516100ad919061082f565b60405180910390f35b6100d060048036038101906100cb9190610851565b61025a565b6040516100dd919061082f565b60405180910390f35b61010060048036038101906100fb9190610851565b6102fa565b60405161010d919061082f565b60405180910390f35b610130600480360381019061012b91906108e3565b6104ce565b005b61014c6004803603810190610147919061095c565b610570565b005b6001602052816000526040600020602052806000526040600020600091509150508060000160009054906101000a900460ff16908060010154905082565b60606000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002080546101d7906109cb565b80601f0160208091040260200160405190810160405280929190818152602001828054610203906109cb565b80156102505780601f1061022557610100808354040283529160200191610250565b820191906000526020600020905b81548152906001019060200180831161023357829003601f168201915b5050505050905090565b60006020528060005260406000206000915090508054610279906109cb565b80601f01602080910402602001604051908101604052809291908181526020018280546102a5906109cb565b80156102f25780601f106102c7576101008083540402835291602001916102f2565b820191906000526020600020905b8154815290600101906020018083116102d557829003601f168201915b505050505081565b60606000600160008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206040518060400160405290816000820160009054906101000a900460ff161515151581526020016001820154815250509050806000015180156103c05750428160200151115b6103ff576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016103f690610a48565b60405180910390fd5b6000808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000208054610448906109cb565b80601f0160208091040260200160405190810160405280929190818152602001828054610474906109cb565b80156104c15780601f10610496576101008083540402835291602001916104c1565b820191906000526020600020905b8154815290600101906020018083116104a457829003601f168201915b5050505050915050919050565b81816000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020918261051b929190610c4e565b503373ffffffffffffffffffffffffffffffffffffffff167f01b64c1967d10407b4ff97725353edea760930f8e25d265e786a16eecbe4d7f78383604051610564929190610d5a565b60405180910390a25050565b604051806040016040528060011515815260200182815250600160003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008201518160000160006101000a81548160ff021916908315150217905550602082015181600101559050508173ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff167f65d0cc1e52d49938ca4ad9f423c79c1b84d914b9a683fbc5d3f93ac3cc5635f58360405161068e9190610d7e565b60405180910390a35050565b600080fd5b600080fd5b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b60006106cf826106a4565b9050919050565b6106df816106c4565b81146106ea57600080fd5b50565b6000813590506106fc816106d6565b92915050565b600080604083850312156107195761071861069a565b5b6000610727858286016106ed565b9250506020610738858286016106ed565b9150509250929050565b60008115159050919050565b61075781610742565b82525050565b6000819050919050565b6107708161075d565b82525050565b600060408201905061078b600083018561074e565b6107986020830184610767565b9392505050565b600081519050919050565b600082825260208201905092915050565b60005b838110156107d95780820151818401526020810190506107be565b60008484015250505050565b6000601f19601f8301169050919050565b60006108018261079f565b61080b81856107aa565b935061081b8185602086016107bb565b610824816107e5565b840191505092915050565b6000602082019050818103600083015261084981846107f6565b905092915050565b6000602082840312156108675761086661069a565b5b6000610875848285016106ed565b91505092915050565b600080fd5b600080fd5b600080fd5b60008083601f8401126108a3576108a261087e565b5b8235905067ffffffffffffffff8111156108c0576108bf610883565b5b6020830191508360018202830111156108dc576108db610888565b5b9250929050565b600080602083850312156108fa576108f961069a565b5b600083013567ffffffffffffffff8111156109185761091761069f565b5b6109248582860161088d565b92509250509250929050565b6109398161075d565b811461094457600080fd5b50565b60008135905061095681610930565b92915050565b600080604083850312156109735761097261069a565b5b6000610981858286016106ed565b925050602061099285828601610947565b9150509250929050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052602260045260246000fd5b600060028204905060018216806109e357607f821691505b6020821081036109f6576109f561099c565b5b50919050565b7f4163636573732064656e696564206f7220657870697265640000000000000000600082015250565b6000610a326018836107aa565b9150610a3d826109fc565b602082019050919050565b60006020820190508181036000830152610a6181610a25565b9050919050565b600082905092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b60008190508160005260206000209050919050565b60006020601f8301049050919050565b600082821b905092915050565b600060088302610b047fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82610ac7565b610b0e8683610ac7565b95508019841693508086168417925050509392505050565b6000819050919050565b6000610b4b610b46610b418461075d565b610b26565b61075d565b9050919050565b6000819050919050565b610b6583610b30565b610b79610b7182610b52565b848454610ad4565b825550505050565b600090565b610b8e610b81565b610b99818484610b5c565b505050565b5b81811015610bbd57610bb2600082610b86565b600181019050610b9f565b5050565b601f821115610c0257610bd381610aa2565b610bdc84610ab7565b81016020851015610beb578190505b610bff610bf785610ab7565b830182610b9e565b50505b505050565b600082821c905092915050565b6000610c2560001984600802610c07565b1980831691505092915050565b6000610c3e8383610c14565b9150826002028217905092915050565b610c588383610a68565b67ffffffffffffffff811115610c7157610c70610a73565b5b610c7b82546109cb565b610c86828285610bc1565b6000601f831160018114610cb55760008415610ca3578287013590505b610cad8582610c32565b865550610d15565b601f198416610cc386610aa2565b60005b82811015610ceb57848901358255600182019150602085019450602081019050610cc6565b86831015610d085784890135610d04601f891682610c14565b8355505b6001600288020188555050505b50505050505050565b82818337600083830152505050565b6000610d3983856107aa565b9350610d46838584610d1e565b610d4f836107e5565b840190509392505050565b60006020820190508181036000830152610d75818486610d2d565b90509392505050565b6000602082019050610d936000830184610767565b9291505056fea26469706673582212209be8f6fccee0c8705260d6e476d06e0fc3e9d55d7d3618292b437e77ce48542f64736f6c63430008140033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
